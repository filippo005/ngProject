<mat-spinner class="spinner" *ngIf="!loaded" color="warn" diameter="65"></mat-spinner>

<div class="brand" *ngIf="loaded">
     <span class="nameBrand" routerLink="/">BSE</span>
</div>

<div class="container" *ngIf="loaded">
     <div *ngIf="countItems > 0" class="totalPriceDiv">
          <p>Totale Price: {{total}}€</p>

          <hr>
     </div>

     <div *ngFor="let item of items; index as i">
          <div class="card">
               <div class="cardContent">
                    <div class="productInfo">
                         <div class="divImage">
                              <!-- <img [src]="item.image" alt=""> -->
                         </div>

                         <div class="info">
                              <div>{{item.name}}</div>
                              <p>Prezzo: {{item.price}}€</p>
                         </div>
                    </div>

                    <div class="divOptions">
                         <div class="divQuantity">
                              <span>Quantity: {{item.quantity}}</span>

                              <div *ngIf="item.quantity > 0" (click)="addQuantity(item)">
                                   <mat-icon>add</mat-icon>
                              </div>
                              <div *ngIf="item.quantity == 0">
                                   <mat-icon>add</mat-icon>
                              </div>

                              <div *ngIf="item.quantity > 0" (click)="removeQuantity(item)">
                                   <mat-icon>remove</mat-icon>
                              </div>
                              <div *ngIf="item.quantity == 0">
                                   <mat-icon>remove</mat-icon>
                              </div>
                         </div>

                         <div *ngIf="item.quantity > 0">
                              <button type="button" mat-raised-button color="blue" (click)="removeItem(item._id, idUser)">
                                   Rimuovi
                              </button>
                         </div>

                         <div *ngIf="item.quantity == 0">
                              <button type="button" mat-raised-button color="blue">
                                   Rimuovi
                              </button>
                         </div>
                    </div>
               </div>
          </div>

          <hr *ngIf="i < countItems - 1">
     </div>

     <div *ngIf="countItems > 0" class="payDiv">
          <button mat-raised-button color="warn" (click)="pay()">Pay</button>
     </div>

     <div *ngIf="countItems == 0">
          <p>You don't have any items in the cart</p>
     </div>
</div>

<router-outlet></router-outlet>
